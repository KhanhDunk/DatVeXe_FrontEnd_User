<section class="payment-page">
	<header class="payment-hero">
		<div class="hero-pill">Thanh to√°n an to√†n</div>
		<h1>Ho√†n t·∫•t thanh to√°n</h1>
		<p>Ch√∫ng t√¥i m√£ h√≥a m·ªçi th√¥ng tin thanh to√°n v√† l∆∞u gi·ªØ v√© c·ªßa b·∫°n trong {{ holdTime }} ph√∫t.</p>
	</header>
	<div class="payment-container">
		<article class="card method-card">
			<div class="method-header">
				<h2>Ch·ªçn ph∆∞∆°ng th·ª©c thanh to√°n</h2>
				<span class="chip">T·ªïng thanh to√°n</span>
			</div>
			<div class="method-list">
				<button
					type="button"
					class="method-item"
					*ngFor="let method of paymentMethods"
					[class.active]="method.id === selectedMethodId"
					(click)="selectMethod(method.id)"
				>
					<span class="method-check"></span>
					<div class="method-icon">
						<img
							*ngIf="method.logo"
							[src]="method.logo"
							[alt]="method.name + ' logo'"
							width="32"
							height="32"
						/>
						<span *ngIf="!method.logo" [style.color]="method.accent">{{ method.code }}</span>
					</div>
					<div class="method-info">
						<strong>{{ method.name }}</strong>
						<small *ngIf="method.subtitle">{{ method.subtitle }}</small>
					</div>
					<span class="method-extra" *ngIf="method.extra">{{ method.extra }}</span>
				</button>
			</div>
			<div class="total-display">
				<span>T·ªïng thanh to√°n</span>
				<h3>{{ formatCurrency(totalAmount) }}</h3>
				<small>Th·ªùi gian gi·ªØ v√© c√≤n l·∫°i {{ holdTime }}</small>
			</div>
			<div class="qr-panel">
				<div class="qr-card">
					<span class="qr-chip">Thanh to√°n b·∫±ng {{ selectedMethod.name }}</span>
					<img [src]="qrSrc" alt="M√£ QR thanh to√°n" width="220" height="220" />
				</div>
				<div class="qr-guide">
					<h4>H∆∞·ªõng d·∫´n thanh to√°n b·∫±ng {{ selectedMethod.name }}</h4>
					<ol>
						<li>M·ªü ·ª©ng d·ª•ng {{ selectedMethod.name }} tr√™n ƒëi·ªán tho·∫°i.</li>
						<li>D√πng bi·ªÉu t∆∞·ª£ng <strong>Qu√©t m√£</strong> ƒë·ªÉ qu√©t QR b√™n c·∫°nh.</li>
						<li>X√°c nh·∫≠n th√¥ng tin v√† ho√†n t·∫•t giao d·ªãch trong th·ªùi gian gi·ªØ v√©.</li>
					</ol>
				</div>
			</div>
			<div class="secure-banner">
				<div class="lock-icon">üîí</div>
				<div>
					<strong>M√£ h√≥a TLS 1.3</strong>
					<p>Ch√∫ng t√¥i k·∫øt n·ªëi tr·ª±c ti·∫øp v·ªõi ng√¢n h√†ng, kh√¥ng l∆∞u th√¥ng tin th·∫ª c·ªßa b·∫°n.</p>
				</div>
				<button type="button" class="btn primary outline">Li√™n h·ªá h·ªó tr·ª£</button>
			</div>
		</article>

		<aside class="payment-summary">
			<article class="card info-card">
				<h3>Th√¥ng tin h√†nh kh√°ch</h3>
				<dl>
					<div>
						<dt>H·ªç t√™n</dt>
						<dd>{{ bookingInfo.fullName }}</dd>
					</div>
					<div>
						<dt>S·ªë ƒëi·ªán tho·∫°i</dt>
						<dd>{{ bookingInfo.phone }}</dd>
					</div>
					<div>
						<dt>Email</dt>
						<dd>{{ bookingInfo.email }}</dd>
					</div>
				</dl>
			</article>

			<article class="card trip-card">
				<h3>Th√¥ng tin l∆∞·ª£t ƒëi</h3>
				<dl>
					<div>
						<dt>Tuy·∫øn xe</dt>
						<dd>{{ tripInfo.route }}</dd>
					</div>
					<div>
						<dt>Th·ªùi gian xu·∫•t b·∫øn</dt>
						<dd>{{ tripInfo.departTime }}</dd>
					</div>
					<div>
						<dt>S·ªë l∆∞·ª£ng gh·∫ø</dt>
						<dd>{{ tripInfo.seatCount }}</dd>
					</div>
					<div>
						<dt>S·ªë gh·∫ø</dt>
						<dd>{{ tripInfo.seatLabel }}</dd>
					</div>
					<div>
						<dt>ƒêi·ªÉm ƒë√≥n</dt>
						<dd>{{ tripInfo.pickup }}</dd>
					</div>
					<div>
						<dt>ƒêi·ªÉm tr·∫£</dt>
						<dd>{{ tripInfo.dropoff }}</dd>
					</div>
				</dl>
			</article>

			<article class="card price-card">
				<h3>Chi ti·∫øt gi√°</h3>
				<ul>
					<li>
						<span>Gi√° v√© l∆∞·ª£t ƒëi</span>
						<strong>{{ formatCurrency(paymentSummary.fare) }}</strong>
					</li>
					<li>
						<span>Ph√≠ thanh to√°n</span>
						<strong>{{ formatCurrency(paymentSummary.fee) }}</strong>
					</li>
				</ul>
				<div class="total-row">
					<span>T·ªïng ti·ªÅn</span>
					<strong>{{ formatCurrency(totalAmount) }}</strong>
				</div>
			</article>
		</aside>
	</div>
</section>
